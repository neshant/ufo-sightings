databaseChangeLog:
  - changeSet:
      id: 1
      author: neshant.sharma
      changes:
      - createTable:
          tableName: ufo_sighting
          columns:
            - column:
                name: id
                type: bigint
                autoIncrement: true
                constraints:
                  primaryKey: true
            - column:
                name: occurred_at
                type: varchar(255)
            - column:
                name: city
                type: varchar(255)
            - column:
                name: state
                type: varchar(255)
            - column:
                name: country
                type: varchar(255)
            - column:
                name: shape
                type: varchar(255)
            - column:
                name: duration_seconds
                type: float
            - column:
                name: duration_text
                type: varchar(255)
            - column:
                name: description
                type: text
            - column:
                name: reported_on
                type: varchar(255)
            - column:
                name: latitude
                type: double
                constraints:
                  nullable: false
            - column:
                name: longitude
                type: double
                constraints:
                  nullable: false

  - changeSet:
      id: 2
      author: neshant.sharma
      runOnChange: true
      changes:
        - loadUpdateData:
            tableName: ufo_sighting
            primaryKey: id
            file: db/data/ufo-sighting.csv

  - changeSet:
      id: 3
      author: neshant.sharma
      changes:
        - sql:
            dbms: postgresql
            sql: CREATE EXTENSION IF NOT EXISTS cube
        - sql:
            dbms: postgresql
            sql: CREATE EXTENSION IF NOT EXISTS earthdistance

  - changeSet:
      id: 4
      author: neshant.sharma
      changes:
        - sql:  SELECT setval('ufo_sighting_id_seq', (SELECT max(id) FROM ufo_sighting), true);

  - changeSet:
      id: 5
      author: neshant.sharma
      changes:
        - addColumn:
            tableName: ufo_sighting
            columns:
              - column:
                  name: deleted
                  type: boolean
                  defaultValueBoolean: false
                  constraints:
                    nullable: false